(function(){"use strict";var e={973:function(e,s,t){var n=t(9242),o=t(3396),i=t(7139);const a=e=>((0,o.dD)("data-v-8afbedfe"),e=e(),(0,o.Cn)(),e),l={class:"app-container"},u=a((()=>(0,o._)("h1",{class:"app-title"},"SleepeR",-1))),r={key:0},p={key:1},c={class:"input-section1"},d={class:"input-container"},h=a((()=>(0,o._)("label",null,"Enter corpus name to use a saved corpus:",-1))),m=a((()=>(0,o._)("label",null,"OR choose a zip file to upload as a new corpus:",-1))),_=a((()=>(0,o._)("label",null,"Number of keywords to extract from notes:",-1))),b=a((()=>(0,o._)("label",null,"Number of documents to use:",-1))),y=a((()=>(0,o._)("label",{for:"search_model"},"Mode for keyword extraction:",-1))),g=a((()=>(0,o._)("option",{disabled:"",value:""},"Please keyword extraction mode:",-1))),k=a((()=>(0,o._)("option",{value:"kw"},"Term frequency",-1))),w=a((()=>(0,o._)("option",{value:"tfidf"},"TF-IDF",-1))),v=[g,k,w],f=a((()=>(0,o._)("label",{for:"gen_model"},"Mode for text generation:",-1))),S=a((()=>(0,o._)("option",{disabled:"",value:""},"Please select a generation mode:",-1))),T=a((()=>(0,o._)("option",{value:"mk"},"Markov Chain",-1))),j=a((()=>(0,o._)("option",{value:"lm"},"LM: google/flan-t5-base",-1))),R=[S,T,j],C={key:0},z={key:2},D={class:"input-section"},M={class:"group-name"},F=a((()=>(0,o._)("label",null,"Group Name:",-1))),U={class:"button-group"},x={key:0,class:"response-section fade-in"},L={key:0},O=a((()=>(0,o._)("h2",null,"Sleeper Memory",-1))),H={class:"italic-text"},N=a((()=>(0,o._)("strong",null,"Tome:",-1))),J=a((()=>(0,o._)("strong",null,"Topic:",-1))),q=a((()=>(0,o._)("strong",null,"Page Number:",-1))),A={class:"jail-message"},Z={class:"save-message"},E={key:1},V=a((()=>(0,o._)("p",null,[(0,o._)("strong",null,"Topics that caught Sleeper's attention:")],-1))),W={class:"response-list"},P=a((()=>(0,o._)("p",null,[(0,o._)("strong",null," Sleeper recommends:")],-1))),B={class:"jail-message"},K={class:"save-message"},I={key:2},Y=a((()=>(0,o._)("h2",null,"Sleeper Dream",-1))),$={class:"italic-text"},G={class:"jail-message"},Q={class:"save-message"},X={key:3},ee=a((()=>(0,o._)("h2",null,"Word Alchemy",-1))),se=a((()=>(0,o._)("label",null,"Enter word expression:",-1))),te={key:0},ne={class:"jail-message"},oe={class:"save-message"},ie={key:4,class:"input-section"},ae={key:0},le=a((()=>(0,o._)("h2",null,"Haiku Craft",-1))),ue=a((()=>(0,o._)("label",null,"Second line of the haiku:",-1))),re={key:1},pe=a((()=>(0,o._)("h2",null,"Haiku Craft",-1))),ce={class:"italic-text"},de={class:"italic-text"},he={class:"italic-text"},me={class:"jail-message"},_e={class:"save-message"};function be(e,s,t,a,g,k){return(0,o.wg)(),(0,o.iD)("div",l,[u,g.newSessionForm||g.fileUploaded?!g.fileUploaded&&g.newSessionForm?((0,o.wg)(),(0,o.iD)("div",p,[(0,o._)("div",null,[(0,o._)("p",null," Sleeper Status : "+(0,i.zw)(g.status),1)]),(0,o._)("div",c,[(0,o._)("div",d,[h,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":s[2]||(s[2]=e=>g.save_path=e),placeholder:"Corpus Name"},null,512),[[n.nr,g.save_path]]),m,(0,o._)("input",{type:"file",ref:"file",onChange:s[3]||(s[3]=(...e)=>k.handleFileUpload&&k.handleFileUpload(...e))},null,544),_,(0,o.wy)((0,o._)("input",{type:"number","onUpdate:modelValue":s[4]||(s[4]=e=>g.num_keywords=e),placeholder:"Number of Keywords"},null,512),[[n.nr,g.num_keywords]]),b,(0,o.wy)((0,o._)("input",{type:"number","onUpdate:modelValue":s[5]||(s[5]=e=>g.num_docs=e),placeholder:"Number of Documents"},null,512),[[n.nr,g.num_docs]]),y,(0,o.wy)((0,o._)("select",{id:"search_model","onUpdate:modelValue":s[6]||(s[6]=e=>g.search_model=e)},v,512),[[n.bM,g.search_model]]),f,(0,o.wy)((0,o._)("select",{id:"gen_model","onUpdate:modelValue":s[7]||(s[7]=e=>g.gen_model=e)},R,512),[[n.bM,g.gen_model]])]),(0,o._)("button",{class:"long-submit-button",type:"button",onClick:s[8]||(s[8]=(...e)=>k.newSession&&k.newSession(...e))},"Start New Session"),(0,o._)("button",{class:"long-submit-button",type:"button",onClick:s[9]||(s[9]=(...e)=>k.joinSession&&k.joinSession(...e))},"Join Current Session"),(0,o._)("button",{class:"long-submit-button",type:"button",onClick:s[10]||(s[10]=(...e)=>k.endSession&&k.endSession(...e))},"End Session")]),g.isLoading?((0,o.wg)(),(0,o.iD)("div",C,"Starting Sleeper. This might take a few minutes...")):(0,o.kq)("",!0)])):g.fileUploaded?((0,o.wg)(),(0,o.iD)("div",z,[(0,o._)("div",D,[(0,o._)("form",{onSubmit:s[17]||(s[17]=(0,n.iM)(((...e)=>k.submitForm&&k.submitForm(...e)),["prevent"]))},[(0,o._)("div",M,[F,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":s[11]||(s[11]=e=>g.group_name=e),placeholder:"Eg: toy9",required:""},null,512),[[n.nr,g.group_name,void 0,{number:!0}]])]),(0,o._)("div",U,[(0,o._)("button",{class:"submit-button",type:"button",onClick:s[12]||(s[12]=(...e)=>k.submitTopics&&k.submitTopics(...e))}," Tomes and Topics "),(0,o._)("button",{class:"submit-button",type:"button",onClick:s[13]||(s[13]=(...e)=>k.submitMemories&&k.submitMemories(...e))}," Sleeper Memories "),(0,o._)("button",{class:"submit-button",type:"button",onClick:s[14]||(s[14]=(...e)=>k.submitDreams&&k.submitDreams(...e))}," Sleeper Dreams "),(0,o._)("button",{class:"submit-button",type:"button",onClick:s[15]||(s[15]=(...e)=>k.submitHaiku&&k.submitHaiku(...e))}," Haiku Crafter "),(0,o._)("button",{class:"submit-button",type:"button",onClick:s[16]||(s[16]=(...e)=>k.submitAlchemy&&k.submitAlchemy(...e))}," Word Alchemy ")])],32)]),(0,o._)("div",{class:(0,i.C_)([{fade:!0,"is-visible":g.isLoading,"is-hidden":!g.isLoading},"loading-state"])},"Loading...",2),g.buttonType?((0,o.wg)(),(0,o.iD)("div",x,["memories"===g.buttonType&&g.response?((0,o.wg)(),(0,o.iD)("div",L,[O,(0,o._)("p",H,(0,i.zw)(g.response.extract),1),(0,o._)("p",null,[N,(0,o.Uk)(" "+(0,i.zw)(g.response.document),1)]),(0,o._)("p",null,[J,(0,o.Uk)(" "+(0,i.zw)(g.response.keyword),1)]),(0,o._)("p",null,[q,(0,o.Uk)(" "+(0,i.zw)(g.response.page_num),1)]),(0,o._)("button",{class:"submit-button",type:"button",onClick:s[18]||(s[18]=(...e)=>k.saveResponse&&k.saveResponse(...e))},"Save"),(0,o._)("button",{class:"submit-button",type:"button",onClick:s[19]||(s[19]=(...e)=>k.jailResponse&&k.jailResponse(...e))},"Jail"),(0,o._)("div",A,(0,i.zw)(e.jailMessage),1),(0,o._)("div",Z,(0,i.zw)(g.saveMessage),1)])):"topics"===g.buttonType&&g.response?((0,o.wg)(),(0,o.iD)("div",E,[V,(0,o._)("ol",W,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(g.response.topics,((e,s)=>((0,o.wg)(),(0,o.iD)("li",{key:s},(0,i.zw)(e),1)))),128))]),P,(0,o._)("ol",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(g.response.tomes,((e,s)=>((0,o.wg)(),(0,o.iD)("li",{key:s},(0,i.zw)(e),1)))),128))]),(0,o._)("button",{class:"submit-button",type:"button",onClick:s[20]||(s[20]=(...e)=>k.saveResponse&&k.saveResponse(...e))},"Save"),(0,o._)("button",{class:"submit-button",type:"button",onClick:s[21]||(s[21]=(...e)=>k.jailResponse&&k.jailResponse(...e))},"Jail"),(0,o._)("div",B,(0,i.zw)(e.jailMessage),1),(0,o._)("div",K,(0,i.zw)(g.saveMessage),1)])):"dreams"===g.buttonType&&g.response?((0,o.wg)(),(0,o.iD)("div",I,[Y,(0,o._)("p",$,(0,i.zw)(g.response),1),(0,o._)("button",{class:"submit-button",type:"button",onClick:s[22]||(s[22]=(...e)=>k.saveResponse&&k.saveResponse(...e))},"Save"),(0,o._)("button",{class:"submit-button",type:"button",onClick:s[23]||(s[23]=(...e)=>k.jailResponse&&k.jailResponse(...e))},"Jail"),(0,o._)("div",G,(0,i.zw)(e.jailMessage),1),(0,o._)("div",Q,(0,i.zw)(g.saveMessage),1)])):"alchemy"===g.buttonType?((0,o.wg)(),(0,o.iD)("div",X,[ee,se,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":s[24]||(s[24]=e=>g.alchemy_word=e),placeholder:"king - man + woman",required:""},null,512),[[n.nr,g.alchemy_word]]),(0,o._)("button",{class:"submit-button",type:"button",onClick:s[25]||(s[25]=(...e)=>k.submitAlchemyWord&&k.submitAlchemyWord(...e))},"Submit Word"),g.alchemy_response?((0,o.wg)(),(0,o.iD)("div",te,[(0,o._)("ol",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(g.alchemy_response,((e,s)=>((0,o.wg)(),(0,o.iD)("li",{key:s},(0,i.zw)(e),1)))),128))]),(0,o._)("button",{class:"submit-button",type:"button",onClick:s[26]||(s[26]=(...e)=>k.saveResponse&&k.saveResponse(...e))},"Save"),(0,o._)("button",{class:"submit-button",type:"button",onClick:s[27]||(s[27]=(...e)=>k.jailResponse&&k.jailResponse(...e))},"Jail"),(0,o._)("div",ne,(0,i.zw)(e.jailMessage),1),(0,o._)("div",oe,(0,i.zw)(g.saveMessage),1)])):(0,o.kq)("",!0)])):"haiku"===g.buttonType||"haikudone"===g.buttonType?((0,o.wg)(),(0,o.iD)("div",ie,[(0,o._)("form",{onSubmit:s[32]||(s[32]=(0,n.iM)(((...e)=>k.submitForm&&k.submitForm(...e)),["prevent"]))},["haiku"===g.buttonType?((0,o.wg)(),(0,o.iD)("div",ae,[le,(0,o._)("p",null,(0,i.zw)(g.haiku_first_line),1),ue,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":s[28]||(s[28]=e=>g.haiku_second_line=e),placeholder:"Enter your haiku line",required:""},null,512),[[n.nr,g.haiku_second_line]]),(0,o._)("button",{class:"submit-button",type:"button",onClick:s[29]||(s[29]=(...e)=>k.submitHaikuLine&&k.submitHaikuLine(...e))},"Submit"),(0,o._)("p",null,(0,i.zw)(g.haiku_third_line),1)])):"haikudone"===g.buttonType?((0,o.wg)(),(0,o.iD)("div",re,[pe,(0,o._)("p",ce,(0,i.zw)(g.haiku_first_line),1),(0,o._)("p",de,(0,i.zw)(g.haiku_second_line),1),(0,o._)("p",he,(0,i.zw)(g.haiku_third_line),1),(0,o._)("button",{class:"submit-button",type:"button",onClick:s[30]||(s[30]=(...e)=>k.saveResponse&&k.saveResponse(...e))},"Save"),(0,o._)("button",{class:"submit-button",type:"button",onClick:s[31]||(s[31]=(...e)=>k.jailResponse&&k.jailResponse(...e))},"Jail"),(0,o._)("div",me,(0,i.zw)(e.jailMessage),1),(0,o._)("div",_e,(0,i.zw)(g.saveMessage),1)])):(0,o.kq)("",!0)],32)])):(0,o.kq)("",!0)])):(0,o.kq)("",!0),(0,o._)("button",{class:"long-submit-button",type:"button",onClick:s[33]||(s[33]=(...e)=>k.downloadJson&&k.downloadJson(...e))},"Download Report "),(0,o._)("button",{class:"long-submit-button",type:"button",onClick:s[34]||(s[34]=(...e)=>k.goBack&&k.goBack(...e))},"Back")])):(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",r,[(0,o._)("button",{class:"long-submit-button",type:"button",onClick:s[0]||(s[0]=(...e)=>k.startNewSession&&k.startNewSession(...e))},"Manage Sessions"),(0,o._)("button",{class:"long-submit-button",type:"button",onClick:s[1]||(s[1]=(...e)=>k.joinSession&&k.joinSession(...e))},"Open SleepeR")]))])}t(7658);var ye=t(4161),ge={data(){return{group_name:"",response:null,isLoading:!1,buttonType:null,alchemy_word:"",alchemy_response:null,haiku_first_line:"",haiku_second_line:"",haiku_third_line:"",savedResponses:{},saveMessage:"",file:"",fileUploaded:!1,save_path:"",sleeperStarted:!1,search_model:"tfidf",gen_model:"lm",num_keywords:2,num_docs:5,newSessionForm:!1,status:""}},methods:{handleFileUpload(){this.$refs.file?this.file=this.$refs.file.files[0]:console.log("Error: this.$refs.file is undefined")},async endSession(){try{let e=new FormData;const s=await ye.Z.post("https://nodenogginflask.azurewebsites.net/end",e);this.response=s.data}catch(e){console.error(e)}try{let e=new FormData;const s=await ye.Z.post("https://nodenogginflask.azurewebsites.net/status",e);this.status=s.sleeper_status}catch(e){console.error(e)}this.fileUploaded=!1,this.newSessionForm=!1},async goBack(){this.fileUploaded=!1,this.newSessionForm=!1},async startNewSession(){this.newSessionForm=!0;try{let e=new FormData;const s=await ye.Z.post("https://nodenogginflask.azurewebsites.net/status",e);this.status=s.data.sleeper_status}catch(e){console.error(e)}},async newSession(){this.isLoading=!0;let e=new FormData;e.append("file",this.file),e.append("save_path",this.save_path),e.append("num_keywords",this.num_keywords),e.append("num_docs",this.num_docs),e.append("search_model",this.search_model),e.append("gen_model",this.gen_model);try{const s=await ye.Z.post("https://nodenogginflask.azurewebsites.net/upload",e);200===s.status&&(this.fileUploaded=!0)}catch(s){console.error(s)}this.isLoading=!1;try{let e=new FormData;const s=await ye.Z.post("https://nodenogginflask.azurewebsites.net/status",e);this.status=s.sleeper_status}catch(s){console.error(s)}},async joinSession(){this.fileUploaded=!0},async submitMemories(){this.buttonType="memories",await this.submitForm("https://nodenogginflask.azurewebsites.net/memories")},async submitDreams(){this.buttonType="dreams",await this.submitForm("https://nodenogginflask.azurewebsites.net/dreams")},async submitTopics(){this.buttonType="topics",await this.submitForm("https://nodenogginflask.azurewebsites.net/topics")},async submitAlchemy(){this.buttonType="alchemy",this.alchemy_response=null,this.response="alchemy"},async submitAlchemyWord(){const e="https://nodenogginflask.azurewebsites.net/alchemy",s={group_name:this.group_name,alchemy_word:this.alchemy_word};this.isLoading=!0;try{const t=await ye.Z.post(e,s);this.alchemy_response=t.data}catch(t){console.error(t)}this.isLoading=!1},async downloadJson(){const e="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(this.savedResponses)),s=document.createElement("a");s.setAttribute("href",e),s.setAttribute("download","sleeper_responses.json"),document.body.appendChild(s),s.click(),s.remove()},async submitHaiku(){this.buttonType="haiku";const e="https://nodenogginflask.azurewebsites.net/haiku",s={group_name:this.group_name};this.isLoading=!0;try{const t=await ye.Z.post(e,s);this.haiku_first_line=t.data}catch(t){console.error(t)}this.isLoading=!1},async submitHaikuLine(){this.buttonType="haikudone";const e="https://nodenogginflask.azurewebsites.net/haikucomplete",s={group_name:this.group_name,first_line:this.haiku_first_line,second_line:this.haiku_second_line};this.isLoading=!0;try{const t=await ye.Z.post(e,s);this.haiku_third_line=t.data}catch(t){console.error(t)}this.isLoading=!1},async saveResponse(){const e="alchemy"===this.buttonType?this.alchemy_response:"haiku"===this.buttonType||"haikudone"===this.buttonType?{haiku_first_line:this.haiku_first_line,haiku_second_line:this.haiku_second_line,haiku_third_line:this.haiku_third_line}:this.response;this.savedResponses["saved"]||(this.savedResponses["saved"]={}),this.savedResponses["saved"][this.buttonType]?this.savedResponses["saved"][this.buttonType].push(e):this.savedResponses["saved"][this.buttonType]=[e],this.saveMessage="Saved!",setTimeout((()=>{this.saveMessage=""}),1e3)},async jailResponse(){const e="alchemy"===this.buttonType?this.alchemy_response:"haiku"===this.buttonType||"haikudone"===this.buttonType?{haiku_first_line:this.haiku_first_line,haiku_second_line:this.haiku_second_line,haiku_third_line:this.haiku_third_line}:this.response;this.savedResponses["jail"]||(this.savedResponses["jail"]={}),this.savedResponses["jail"][this.buttonType]?this.savedResponses["jail"][this.buutonType].push(e):this.savedResponses["jail"][this.buttonType]=[e],this.saveMessage="Jailed!",setTimeout((()=>{this.saveMessage=""}),1e3)},async submitForm(e){const s={group_name:this.group_name};this.isLoading=!0,this.response=null;try{const t=await ye.Z.post(e,s);this.response=t.data}catch(t){console.error(t)}this.isLoading=!1}}},ke=t(89);const we=(0,ke.Z)(ge,[["render",be],["__scopeId","data-v-8afbedfe"]]);var ve=we;(0,n.ri)(ve).mount("#app")}},s={};function t(n){var o=s[n];if(void 0!==o)return o.exports;var i=s[n]={exports:{}};return e[n].call(i.exports,i,i.exports,t),i.exports}t.m=e,function(){var e=[];t.O=function(s,n,o,i){if(!n){var a=1/0;for(p=0;p<e.length;p++){n=e[p][0],o=e[p][1],i=e[p][2];for(var l=!0,u=0;u<n.length;u++)(!1&i||a>=i)&&Object.keys(t.O).every((function(e){return t.O[e](n[u])}))?n.splice(u--,1):(l=!1,i<a&&(a=i));if(l){e.splice(p--,1);var r=o();void 0!==r&&(s=r)}}return s}i=i||0;for(var p=e.length;p>0&&e[p-1][2]>i;p--)e[p]=e[p-1];e[p]=[n,o,i]}}(),function(){t.n=function(e){var s=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(s,{a:s}),s}}(),function(){t.d=function(e,s){for(var n in s)t.o(s,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:s[n]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)}}(),function(){var e={143:0};t.O.j=function(s){return 0===e[s]};var s=function(s,n){var o,i,a=n[0],l=n[1],u=n[2],r=0;if(a.some((function(s){return 0!==e[s]}))){for(o in l)t.o(l,o)&&(t.m[o]=l[o]);if(u)var p=u(t)}for(s&&s(n);r<a.length;r++)i=a[r],t.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return t.O(p)},n=self["webpackChunksleeper_ui"]=self["webpackChunksleeper_ui"]||[];n.forEach(s.bind(null,0)),n.push=s.bind(null,n.push.bind(n))}();var n=t.O(void 0,[998],(function(){return t(973)}));n=t.O(n)})();
//# sourceMappingURL=app.2d2e7bc2.js.map